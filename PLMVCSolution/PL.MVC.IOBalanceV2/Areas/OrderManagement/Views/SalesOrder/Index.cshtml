@using PL.Business.Dto.IOBalanceV2;
@using PL.MVC.IOBalanceV2.Areas.OrderManagement.Models;

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section modals{
    @Html.Partial(IOBALANCEMVCV2.OrderManagement.SalesOrder.Views._EditOrderList)
}
<div>
    <section class="panel-widget-container">
        <div class="panel-widget-search hide">
            <div class="input-group">
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default">
                        <i class="md md-search"></i> Search
                    </button>
                </span>
                <input type="text" class="form-control" placeholder="Type product name here..." value="" />
            </div>
        </div>
        <div class="panel-widget-controls">
            <button id="btnAddSalesDetails" class="btn btn-default" type="button">
                Add to product list
            </button>

            <button id="btnSaveQueueDetails" class="btn  btn-success" type="button">
                Queue sales order
            </button>

            <button id="btnSaveSalesDetails" class="btn btn-success" type="button">
                Save sales order
            </button>
        </div>
    </section>
    <br />
    <div class="pull-left">
        <form class="form-horizontal" id="frmSalesOrder">
            @Html.Partial(IOBALANCEMVCV2.OrderManagement.SalesOrder.Views._DetailsSalesOrder, new SalesOrderDto())
        </form>
    </div>
    <div class="pull-right">
        <form class="form-horizontal" id="frmSalesOrderDetail">
            @Html.Partial(IOBALANCEMVCV2.OrderManagement.SalesOrder.Views._DetailsSalesOrderDetail, new SalesOrderDetailDto())
        </form>
    </div>
    <div class="clearfix"></div>

    <br />
    <div id="divList">
            <h4>Total: </h4>
            <h5 id="gridTotal"></h5>
        <h4>List Count: </h4><h5 id="gridCount"></h5>
        @Html.Partial(IOBALANCEMVCV2.OrderManagement.SalesOrder.Views._SalesOrderList, new SalesOrderListDto())
    </div>
</div>

<div id="divResultContainer" style="display:none"></div>

@section scripts{
    <script type="text/javascript">
        window.salesOrderOptions = {
            saveUrl: "@Url.Action(IOBALANCEMVCV2.OrderManagement.Inventory.SaveDetails())",
            customerUrl: "@Url.Action(IOBALANCEMVCV2.Common.GetCustomersWithoutAdmin())",
            productUrl: "@Url.Action(IOBALANCEMVCV2.Common.GetProducts())",
            saveOrderUrl: "@Url.Action(IOBALANCEMVCV2.OrderManagement.SalesOrder.SaveSalesOrder())",
            queueOrderUrl: "@Url.Action(IOBALANCEMVCV2.OrderManagement.SalesOrder.QueueSalesOrder())",
            getPriceUrl: "@Url.Action(IOBALANCEMVCV2.OrderManagement.SalesOrder.GetCustomerAndProductPrice())",
            getSalesNumUrl: "@Url.Action(IOBALANCEMVCV2.OrderManagement.SalesOrder.GetPLNum())",
            productByIdUrl: "@Url.Action(IOBALANCEMVCV2.Common.GetProductsPerProductId())"
        };
    </script>
    <script type="text/javascript" src="@IOBALANCEV2LINKS.Scripts.iobalancev2.ordermanagement_salesorder_js"></script>
    <script type="text/javascript" src="@IOBALANCEV2LINKS.Scripts.infrastructure.jquery_deserialize_js"></script>
}

